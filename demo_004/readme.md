# step 4 前端后台一键部署都是suck

* 简单的看了下后面的视频，原理就是把本地文件传到一个私有仓库，然后通知服务器进行下载，一大堆配置文件。我觉得很麻烦。
* 现在知道了FalshFXP可以直接拖着就上传文件。手动重启部署下服务。
* 所以：如何上传源码识别为后台代码改变，并进行重启？前端不需要进行重启？这个问题解决。

### NOW：
* demo_003就算是被代替了，上传文件完全用FalshFXP就OK了。
* demo_002：主要是配合demo_001做数据包监控，配合demo_001的本地上传。
* demo_001：优化所有的命令写在项目根目录下。

### 优化：

* 因为知道tar的路径要求为相对路径较好，且只能在该脚本所在的目录下执行。
* 我们可把本地能自动化操作的所有指令，拿到全局，形成cmd.js。这样就可以进行package.json的全局命令进行设置了。

### package.json：

* 通过传入变量控制执行的程序
```
  "scripts": {
    "start": "node ./api_server/app.js",
    "esc_db": "set NODE_ENV=esc_db&&node ./cmd.js",
    "git": "set NODE_ENV=git&&node ./cmd.js"
  },
```







---------------------

### $~剩余问题

* 如何一键部署服务器？
* 如何一键部署nodejs环境？
* 如何一键部署mongodb环境？
