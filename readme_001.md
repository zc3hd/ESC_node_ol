

## 域名

* 域名：`https://wanwang.aliyun.com/domain/searchresult#/?keyword=&suffix=com`

* 域名备案

- ESC服务器备案号申请，应该就是给域名备案，提供一个服务器的备案号；

```
点 【备案】/【备案服务号申请】/点击自己当前服务器后面的【申请】
进入到【备案服务号管理】，找最新的备案号，点后面的【备案】
进入备案后，核对下主体信息，无误点【信息无误，继续下一步】
填写域名、选择产品类型【ECS】,选择【已有备案服务号】并填写；

【网站名称】：学习案例
【网站服务内容】：其他
【网站语言】：中文
点【下一步，上传备案资料】

上传身份证正反面、网站备案信息真实性核验单、手持身份证照

在【备案】/【ICP备案系统】中查看备案的状态
```



## ESC服务器

- 1M流量、1核CPU、1G内存（2-3万请求量--在线就是几千人）
- 镜像 Ubantu 14.04 64位 （16的默认集成docker）
- 设置密码：服务器的密码。



## 配置ssh登录

### 远程操作服务器（ssh）

```
ssh root@公网IP
问时候加入SSH的信任列表：yes
输入密码

查看数据盘
fdisk -l 

查看硬盘的使用情况
df -h

当前目录的所有文件
ls -a

退出ssh操作
ctrl+D
```

* 本地每次登陆的时候问是否加入信任列表？
* SSH的信任列表:用户目录/.ssh/known_hosts里面新增一条记录，重新更换系统盘的话，需要在.ssh 里面删除信任列表该条记录。
* 现在每次为root登录，配置代理用户登录。

### 配置权限用户账号

```
1.增加用户，回车，输入密码，一路回车。
adduser cc

2.进入权限文件，给用户设置权限
sudo visudo

-----------------------------------
在root那行下面回车加：
cc ALL=(ALL:ALL) ALL
-----------------------------------
ctrl+X【退出编辑模式】   shift+Y【确认保存，然后回车】

service ssh restart ssh 【重启开启ssh服务】
```

测试：
```
ssh cc@ip:
```

### ssh无密码登录

* 本地有个钥匙，ESC上有个锁，只能【指定用户】拿着【这个钥匙】才能无密码登录。就是指定用户在指定电脑上才能无密码登录。
* 有github的免密码提交的本地就已经有.ssh文件不需要重新生成。

* 在服务器上，先用一个用户进行登录，比如那会创建的cc
```
一路回车
ssh-keygen -t rsa -b 4096 -C "343371169@qq.com" 

开启ssh代理
eval "$(ssh-agent -s)" 

什么加入代理（扯淡）
ssh-add ~/.ssh/id_rsa

进入这个文件
cd .ssh


vi authorized_keys【创建授权文件】

i【输入，进入编辑模式】
----------------------------------------------------
【到本地用户的电脑上，找到id_rsa.pub这个文件复制到这里】
----------------------------------------------------
esc【退出编辑模式】
ctrl+:【进入保存命令行】
wq!【保存】

sudo service ssh start【重启服务】

这个用户就可免密码登录了
```

* 服务端生成.ssh文件夹就是为了给authorized_keys有个目录。
